{% extends 'base.html' %}

{% block title %}Verificar Email{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow-lg">
            <div class="card-body p-5">
                <h2 class="text-center mb-4">üîê Verificar Email</h2>
                
                <div class="alert alert-info text-center">
                    <strong>{{ user.username }}</strong>, hemos enviado un c√≥digo de verificaci√≥n a:<br>
                    <strong>{{ user.email }}</strong>
                </div>

                <form method="post" class="mt-4">
                    {% csrf_token %}
                    
                    <div class="mb-4">
                        <label for="verification_code" class="form-label">C√≥digo de Verificaci√≥n (6 d√≠gitos)</label>
                        <input 
                            type="text" 
                            name="verification_code" 
                            id="verification_code" 
                            class="form-control form-control-lg text-center" 
                            placeholder="000000"
                            maxlength="6"
                            pattern="[0-9]{6}"
                            required
                            autofocus
                            style="letter-spacing: 0.5em; font-size: 1.5rem;"
                        >
                        <small class="form-text text-muted">Ingresa el c√≥digo de 6 d√≠gitos que recibiste por email</small>
                    </div>

                    <button type="submit" class="btn btn-primary btn-lg w-100 mb-3">
                        ‚úì Verificar C√≥digo
                    </button>
                </form>

                <div class="text-center mt-4">
                    <p class="text-muted mb-2">¬øNo recibiste el c√≥digo?</p>
                    <a href="{% url 'accounts:resend_code' %}" class="btn btn-outline-secondary">
                        üìß Reenviar C√≥digo
                    </a>
                </div>

                {% if expired %}
                <div class="alert alert-warning mt-3">
                    <strong>‚è∞ C√≥digo Expirado</strong><br>
                    Tu c√≥digo ha expirado despu√©s de 15 minutos. Solicita uno nuevo usando el bot√≥n de arriba.
                </div>
                {% endif %}

                <div class="mt-4 p-3" style="background-color: rgba(139, 155, 168, 0.1); border-radius: 8px;">
                    <p class="mb-0 text-center text-muted small">
                        <strong>üí° Nota:</strong> El c√≥digo expira en 15 minutos<br>
                        Si el email no lleg√≥, revisa tu carpeta de spam
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    input[type="text"]#verification_code {
        font-family: 'Courier New', monospace;
        font-weight: bold;
    }
</style>
{% endblock %}
